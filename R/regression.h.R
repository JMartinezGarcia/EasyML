
# This file is automatically generated, you probably don't want to edit this

RegressionOptions <- if (requireNamespace("jmvcore", quietly=TRUE)) R6::R6Class(
    "RegressionOptions",
    inherit = jmvcore::Options,
    public = list(
        initialize = function(
            disable = FALSE,
            seed = 42,
            dep = NULL,
            covs = NULL,
            factors = NULL,
            stdCovs = NULL,
            encCat = NULL,
            mode = "neural_network",
            hidden_neurons_tune = "range_neurons",
            penalty_tune = "range_penalty",
            fix_n_neurons = NULL,
            fix_penalty = NULL,
            min_n_neurons = 5,
            max_n_neurons = 20,
            min_penalty = -3,
            max_penalty = 3,
            mtry_tune = "range_mtry",
            trees_tune = "range_trees",
            min_n_tune = "range_min_n",
            fix_mtry = NULL,
            fix_trees = NULL,
            fix_min_n = NULL,
            min_mtry = 3,
            max_mtry = 5,
            min_trees = 50,
            max_trees = 150,
            min_min_n = 5,
            max_min_n = 25,
            mtryx_tune = "range_mtryx",
            treesx_tune = "range_treesx",
            min_nx_tune = "range_min_nx",
            tree_depth_tune = "range_tree_depth",
            learn_ratex_tune = "range_learn_ratex",
            loss_reduction_tune = "range_loss_reduction",
            fix_mtryx = NULL,
            fix_treesx = NULL,
            fix_min_nx = NULL,
            fix_tree_depth = NULL,
            fix_learn_ratex = NULL,
            fix_loss_reduction = NULL,
            min_mtryx = 3,
            max_mtryx = 5,
            min_treesx = 50,
            max_treesx = 150,
            min_min_nx = 5,
            max_min_nx = 25,
            min_tree_depth = 5,
            max_tree_depth = 25,
            min_learn_ratex = -3,
            max_learn_ratex = -1,
            min_loss_reduction = -3,
            max_loss_reduction = -1,
            kernels = NULL,
            cost_tune = "range_cost",
            margin_tune = "range_margin",
            rbf_sigma_tune = "range_rbf_sigma",
            degree_tune = "range_degree",
            scale_factor_tune = "range_scale_factor",
            fix_cost = NULL,
            fix_margin = NULL,
            fix_rbf_sigma = NULL,
            fix_degree = NULL,
            fix_scale_factor = NULL,
            min_cost = -5,
            max_cost = 3,
            min_margin = 0.05,
            max_margin = 0.2,
            min_rbf_sigma = -3,
            max_rbf_sigma = -1,
            min_degree = 2,
            max_degree = 3,
            min_scale_factor = -3,
            max_scale_factor = -1,
            tuners = "none",
            metrics = "rmse",
            plot_tuner_results = FALSE,
            rmse = FALSE,
            mae = FALSE,
            mpe = FALSE,
            mape = FALSE,
            smape = FALSE,
            ccc = FALSE,
            rpiq = FALSE,
            rsq = FALSE,
            plot_residuals_v_predictions = FALSE,
            plot_residuals_dist = FALSE,
            plot_observed_v_predictions = FALSE,
            pfi = FALSE,
            shap_mean = FALSE,
            shap_dir = FALSE,
            shap_box = FALSE,
            shap_swarm = FALSE,
            olden = FALSE,
            sobol = FALSE, ...) {

            super$initialize(
                package="EasyML",
                name="Regression",
                requiresData=TRUE,
                ...)

            private$..disable <- jmvcore::OptionBool$new(
                "disable",
                disable,
                default=FALSE)
            private$..seed <- jmvcore::OptionInteger$new(
                "seed",
                seed,
                default=42)
            private$..dep <- jmvcore::OptionVariable$new(
                "dep",
                dep,
                required=TRUE,
                suggested=list(
                    "continuous"),
                permitted=list(
                    "numeric"))
            private$..covs <- jmvcore::OptionVariables$new(
                "covs",
                covs,
                suggested=list(
                    "continuous"),
                permitted=list(
                    "numeric"),
                default=NULL)
            private$..factors <- jmvcore::OptionVariables$new(
                "factors",
                factors,
                rejectUnusedLevels=TRUE,
                suggested=list(
                    "nominal"),
                permitted=list(
                    "factor"),
                default=NULL)
            private$..stdCovs <- jmvcore::OptionVariables$new(
                "stdCovs",
                stdCovs,
                default=NULL)
            private$..encCat <- jmvcore::OptionVariables$new(
                "encCat",
                encCat,
                default=NULL)
            private$..mode <- jmvcore::OptionList$new(
                "mode",
                mode,
                options=list(
                    "neural_network",
                    "random_forest",
                    "xgboost",
                    "svm"),
                default="neural_network")
            private$..hidden_neurons_tune <- jmvcore::OptionList$new(
                "hidden_neurons_tune",
                hidden_neurons_tune,
                options=list(
                    "range_neurons",
                    "fix_neurons"),
                default="range_neurons")
            private$..penalty_tune <- jmvcore::OptionList$new(
                "penalty_tune",
                penalty_tune,
                options=list(
                    "range_penalty",
                    "fix_penalty"),
                default="range_penalty")
            private$..fix_n_neurons <- jmvcore::OptionInteger$new(
                "fix_n_neurons",
                fix_n_neurons)
            private$..fix_penalty <- jmvcore::OptionNumber$new(
                "fix_penalty",
                fix_penalty)
            private$..min_n_neurons <- jmvcore::OptionInteger$new(
                "min_n_neurons",
                min_n_neurons,
                min=1,
                max=100,
                default=5)
            private$..max_n_neurons <- jmvcore::OptionInteger$new(
                "max_n_neurons",
                max_n_neurons,
                min=5,
                max=100,
                default=20)
            private$..min_penalty <- jmvcore::OptionNumber$new(
                "min_penalty",
                min_penalty,
                min=-5,
                max=0,
                default=-3)
            private$..max_penalty <- jmvcore::OptionNumber$new(
                "max_penalty",
                max_penalty,
                min=0,
                max=5,
                default=3)
            private$..mtry_tune <- jmvcore::OptionList$new(
                "mtry_tune",
                mtry_tune,
                options=list(
                    "fix_mtry",
                    "range_mtry"),
                default="range_mtry")
            private$..trees_tune <- jmvcore::OptionList$new(
                "trees_tune",
                trees_tune,
                options=list(
                    "fix_trees",
                    "range_trees"),
                default="range_trees")
            private$..min_n_tune <- jmvcore::OptionList$new(
                "min_n_tune",
                min_n_tune,
                options=list(
                    "fix_min_n",
                    "range_min_n"),
                default="range_min_n")
            private$..fix_mtry <- jmvcore::OptionInteger$new(
                "fix_mtry",
                fix_mtry)
            private$..fix_trees <- jmvcore::OptionNumber$new(
                "fix_trees",
                fix_trees)
            private$..fix_min_n <- jmvcore::OptionInteger$new(
                "fix_min_n",
                fix_min_n)
            private$..min_mtry <- jmvcore::OptionInteger$new(
                "min_mtry",
                min_mtry,
                min=2,
                max=10,
                default=3)
            private$..max_mtry <- jmvcore::OptionInteger$new(
                "max_mtry",
                max_mtry,
                min=2,
                max=10,
                default=5)
            private$..min_trees <- jmvcore::OptionInteger$new(
                "min_trees",
                min_trees,
                min=50,
                max=300,
                default=50)
            private$..max_trees <- jmvcore::OptionInteger$new(
                "max_trees",
                max_trees,
                min=50,
                max=300,
                default=150)
            private$..min_min_n <- jmvcore::OptionInteger$new(
                "min_min_n",
                min_min_n,
                min=2,
                max=50,
                default=5)
            private$..max_min_n <- jmvcore::OptionInteger$new(
                "max_min_n",
                max_min_n,
                min=2,
                max=50,
                default=25)
            private$..mtryx_tune <- jmvcore::OptionList$new(
                "mtryx_tune",
                mtryx_tune,
                options=list(
                    "fix_mtryx",
                    "range_mtryx"),
                default="range_mtryx")
            private$..treesx_tune <- jmvcore::OptionList$new(
                "treesx_tune",
                treesx_tune,
                options=list(
                    "fix_treesx",
                    "range_treesx"),
                default="range_treesx")
            private$..min_nx_tune <- jmvcore::OptionList$new(
                "min_nx_tune",
                min_nx_tune,
                options=list(
                    "fix_min_nx",
                    "range_min_nx"),
                default="range_min_nx")
            private$..tree_depth_tune <- jmvcore::OptionList$new(
                "tree_depth_tune",
                tree_depth_tune,
                options=list(
                    "fix_tree_depth",
                    "range_tree_depth"),
                default="range_tree_depth")
            private$..learn_ratex_tune <- jmvcore::OptionList$new(
                "learn_ratex_tune",
                learn_ratex_tune,
                options=list(
                    "fix_learn_ratex",
                    "range_learn_ratex"),
                default="range_learn_ratex")
            private$..loss_reduction_tune <- jmvcore::OptionList$new(
                "loss_reduction_tune",
                loss_reduction_tune,
                options=list(
                    "fix_loss_reduction",
                    "range_loss_reduction"),
                default="range_loss_reduction")
            private$..fix_mtryx <- jmvcore::OptionInteger$new(
                "fix_mtryx",
                fix_mtryx)
            private$..fix_treesx <- jmvcore::OptionNumber$new(
                "fix_treesx",
                fix_treesx)
            private$..fix_min_nx <- jmvcore::OptionInteger$new(
                "fix_min_nx",
                fix_min_nx)
            private$..fix_tree_depth <- jmvcore::OptionInteger$new(
                "fix_tree_depth",
                fix_tree_depth)
            private$..fix_learn_ratex <- jmvcore::OptionNumber$new(
                "fix_learn_ratex",
                fix_learn_ratex)
            private$..fix_loss_reduction <- jmvcore::OptionNumber$new(
                "fix_loss_reduction",
                fix_loss_reduction)
            private$..min_mtryx <- jmvcore::OptionInteger$new(
                "min_mtryx",
                min_mtryx,
                min=2,
                max=10,
                default=3)
            private$..max_mtryx <- jmvcore::OptionInteger$new(
                "max_mtryx",
                max_mtryx,
                min=2,
                max=10,
                default=5)
            private$..min_treesx <- jmvcore::OptionInteger$new(
                "min_treesx",
                min_treesx,
                min=50,
                max=300,
                default=50)
            private$..max_treesx <- jmvcore::OptionInteger$new(
                "max_treesx",
                max_treesx,
                min=50,
                max=300,
                default=150)
            private$..min_min_nx <- jmvcore::OptionInteger$new(
                "min_min_nx",
                min_min_nx,
                min=2,
                max=50,
                default=5)
            private$..max_min_nx <- jmvcore::OptionInteger$new(
                "max_min_nx",
                max_min_nx,
                min=2,
                max=50,
                default=25)
            private$..min_tree_depth <- jmvcore::OptionInteger$new(
                "min_tree_depth",
                min_tree_depth,
                min=2,
                max=50,
                default=5)
            private$..max_tree_depth <- jmvcore::OptionInteger$new(
                "max_tree_depth",
                max_tree_depth,
                min=2,
                max=50,
                default=25)
            private$..min_learn_ratex <- jmvcore::OptionNumber$new(
                "min_learn_ratex",
                min_learn_ratex,
                min=-5,
                max=-1,
                default=-3)
            private$..max_learn_ratex <- jmvcore::OptionNumber$new(
                "max_learn_ratex",
                max_learn_ratex,
                min=-5,
                max=-1,
                default=-1)
            private$..min_loss_reduction <- jmvcore::OptionNumber$new(
                "min_loss_reduction",
                min_loss_reduction,
                min=-5,
                max=-1,
                default=-3)
            private$..max_loss_reduction <- jmvcore::OptionNumber$new(
                "max_loss_reduction",
                max_loss_reduction,
                min=-5,
                max=-1,
                default=-1)
            private$..kernels <- jmvcore::OptionList$new(
                "kernels",
                kernels,
                options=list(
                    "linear",
                    "rbf",
                    "polynom\u00A1al"))
            private$..cost_tune <- jmvcore::OptionList$new(
                "cost_tune",
                cost_tune,
                options=list(
                    "fix_cost",
                    "range_cost"),
                default="range_cost")
            private$..margin_tune <- jmvcore::OptionList$new(
                "margin_tune",
                margin_tune,
                options=list(
                    "fix_margin",
                    "range_margin"),
                default="range_margin")
            private$..rbf_sigma_tune <- jmvcore::OptionList$new(
                "rbf_sigma_tune",
                rbf_sigma_tune,
                options=list(
                    "fix_rbf_sigma",
                    "range_rbf_sigma"),
                default="range_rbf_sigma")
            private$..degree_tune <- jmvcore::OptionList$new(
                "degree_tune",
                degree_tune,
                options=list(
                    "fix_degree",
                    "range_degree"),
                default="range_degree")
            private$..scale_factor_tune <- jmvcore::OptionList$new(
                "scale_factor_tune",
                scale_factor_tune,
                options=list(
                    "fix_scale_factor",
                    "range_scale_factor"),
                default="range_scale_factor")
            private$..fix_cost <- jmvcore::OptionNumber$new(
                "fix_cost",
                fix_cost)
            private$..fix_margin <- jmvcore::OptionNumber$new(
                "fix_margin",
                fix_margin)
            private$..fix_rbf_sigma <- jmvcore::OptionNumber$new(
                "fix_rbf_sigma",
                fix_rbf_sigma)
            private$..fix_degree <- jmvcore::OptionNumber$new(
                "fix_degree",
                fix_degree)
            private$..fix_scale_factor <- jmvcore::OptionNumber$new(
                "fix_scale_factor",
                fix_scale_factor)
            private$..min_cost <- jmvcore::OptionNumber$new(
                "min_cost",
                min_cost,
                min=-10,
                max=5,
                default=-5)
            private$..max_cost <- jmvcore::OptionNumber$new(
                "max_cost",
                max_cost,
                min=-10,
                max=5,
                default=3)
            private$..min_margin <- jmvcore::OptionNumber$new(
                "min_margin",
                min_margin,
                min=0.01,
                max=0.3,
                default=0.05)
            private$..max_margin <- jmvcore::OptionNumber$new(
                "max_margin",
                max_margin,
                min=0.01,
                max=0.3,
                default=0.2)
            private$..min_rbf_sigma <- jmvcore::OptionNumber$new(
                "min_rbf_sigma",
                min_rbf_sigma,
                min=-5,
                max=-1,
                default=-3)
            private$..max_rbf_sigma <- jmvcore::OptionNumber$new(
                "max_rbf_sigma",
                max_rbf_sigma,
                min=-5,
                max=-1,
                default=-1)
            private$..min_degree <- jmvcore::OptionInteger$new(
                "min_degree",
                min_degree,
                min=2,
                max=5,
                default=2)
            private$..max_degree <- jmvcore::OptionInteger$new(
                "max_degree",
                max_degree,
                min=2,
                max=5,
                default=3)
            private$..min_scale_factor <- jmvcore::OptionNumber$new(
                "min_scale_factor",
                min_scale_factor,
                min=-5,
                max=-1,
                default=-3)
            private$..max_scale_factor <- jmvcore::OptionNumber$new(
                "max_scale_factor",
                max_scale_factor,
                min=-5,
                max=-1,
                default=-1)
            private$..tuners <- jmvcore::OptionList$new(
                "tuners",
                tuners,
                options=list(
                    "none",
                    "grid_search_cv"),
                default="none")
            private$..metrics <- jmvcore::OptionList$new(
                "metrics",
                metrics,
                options=list(
                    "rmse",
                    "mae",
                    "mpe",
                    "mape",
                    "smape",
                    "ccc",
                    "rpiq",
                    "rsq"),
                default="rmse")
            private$..plot_tuner_results <- jmvcore::OptionBool$new(
                "plot_tuner_results",
                plot_tuner_results,
                default=FALSE)
            private$..rmse <- jmvcore::OptionBool$new(
                "rmse",
                rmse,
                default=FALSE)
            private$..mae <- jmvcore::OptionBool$new(
                "mae",
                mae,
                default=FALSE)
            private$..mpe <- jmvcore::OptionBool$new(
                "mpe",
                mpe,
                default=FALSE)
            private$..mape <- jmvcore::OptionBool$new(
                "mape",
                mape,
                default=FALSE)
            private$..smape <- jmvcore::OptionBool$new(
                "smape",
                smape,
                default=FALSE)
            private$..ccc <- jmvcore::OptionBool$new(
                "ccc",
                ccc,
                default=FALSE)
            private$..rpiq <- jmvcore::OptionBool$new(
                "rpiq",
                rpiq,
                default=FALSE)
            private$..rsq <- jmvcore::OptionBool$new(
                "rsq",
                rsq,
                default=FALSE)
            private$..plot_residuals_v_predictions <- jmvcore::OptionBool$new(
                "plot_residuals_v_predictions",
                plot_residuals_v_predictions,
                default=FALSE)
            private$..plot_residuals_dist <- jmvcore::OptionBool$new(
                "plot_residuals_dist",
                plot_residuals_dist,
                default=FALSE)
            private$..plot_observed_v_predictions <- jmvcore::OptionBool$new(
                "plot_observed_v_predictions",
                plot_observed_v_predictions,
                default=FALSE)
            private$..pfi <- jmvcore::OptionBool$new(
                "pfi",
                pfi,
                default=FALSE)
            private$..shap_mean <- jmvcore::OptionBool$new(
                "shap_mean",
                shap_mean,
                default=FALSE)
            private$..shap_dir <- jmvcore::OptionBool$new(
                "shap_dir",
                shap_dir,
                default=FALSE)
            private$..shap_box <- jmvcore::OptionBool$new(
                "shap_box",
                shap_box,
                default=FALSE)
            private$..shap_swarm <- jmvcore::OptionBool$new(
                "shap_swarm",
                shap_swarm,
                default=FALSE)
            private$..olden <- jmvcore::OptionBool$new(
                "olden",
                olden,
                default=FALSE)
            private$..sobol <- jmvcore::OptionBool$new(
                "sobol",
                sobol,
                default=FALSE)
            private$..residuals <- jmvcore::OptionOutput$new(
                "residuals")
            private$..predictions <- jmvcore::OptionOutput$new(
                "predictions")
            private$..dataset_id <- jmvcore::OptionOutput$new(
                "dataset_id")

            self$.addOption(private$..disable)
            self$.addOption(private$..seed)
            self$.addOption(private$..dep)
            self$.addOption(private$..covs)
            self$.addOption(private$..factors)
            self$.addOption(private$..stdCovs)
            self$.addOption(private$..encCat)
            self$.addOption(private$..mode)
            self$.addOption(private$..hidden_neurons_tune)
            self$.addOption(private$..penalty_tune)
            self$.addOption(private$..fix_n_neurons)
            self$.addOption(private$..fix_penalty)
            self$.addOption(private$..min_n_neurons)
            self$.addOption(private$..max_n_neurons)
            self$.addOption(private$..min_penalty)
            self$.addOption(private$..max_penalty)
            self$.addOption(private$..mtry_tune)
            self$.addOption(private$..trees_tune)
            self$.addOption(private$..min_n_tune)
            self$.addOption(private$..fix_mtry)
            self$.addOption(private$..fix_trees)
            self$.addOption(private$..fix_min_n)
            self$.addOption(private$..min_mtry)
            self$.addOption(private$..max_mtry)
            self$.addOption(private$..min_trees)
            self$.addOption(private$..max_trees)
            self$.addOption(private$..min_min_n)
            self$.addOption(private$..max_min_n)
            self$.addOption(private$..mtryx_tune)
            self$.addOption(private$..treesx_tune)
            self$.addOption(private$..min_nx_tune)
            self$.addOption(private$..tree_depth_tune)
            self$.addOption(private$..learn_ratex_tune)
            self$.addOption(private$..loss_reduction_tune)
            self$.addOption(private$..fix_mtryx)
            self$.addOption(private$..fix_treesx)
            self$.addOption(private$..fix_min_nx)
            self$.addOption(private$..fix_tree_depth)
            self$.addOption(private$..fix_learn_ratex)
            self$.addOption(private$..fix_loss_reduction)
            self$.addOption(private$..min_mtryx)
            self$.addOption(private$..max_mtryx)
            self$.addOption(private$..min_treesx)
            self$.addOption(private$..max_treesx)
            self$.addOption(private$..min_min_nx)
            self$.addOption(private$..max_min_nx)
            self$.addOption(private$..min_tree_depth)
            self$.addOption(private$..max_tree_depth)
            self$.addOption(private$..min_learn_ratex)
            self$.addOption(private$..max_learn_ratex)
            self$.addOption(private$..min_loss_reduction)
            self$.addOption(private$..max_loss_reduction)
            self$.addOption(private$..kernels)
            self$.addOption(private$..cost_tune)
            self$.addOption(private$..margin_tune)
            self$.addOption(private$..rbf_sigma_tune)
            self$.addOption(private$..degree_tune)
            self$.addOption(private$..scale_factor_tune)
            self$.addOption(private$..fix_cost)
            self$.addOption(private$..fix_margin)
            self$.addOption(private$..fix_rbf_sigma)
            self$.addOption(private$..fix_degree)
            self$.addOption(private$..fix_scale_factor)
            self$.addOption(private$..min_cost)
            self$.addOption(private$..max_cost)
            self$.addOption(private$..min_margin)
            self$.addOption(private$..max_margin)
            self$.addOption(private$..min_rbf_sigma)
            self$.addOption(private$..max_rbf_sigma)
            self$.addOption(private$..min_degree)
            self$.addOption(private$..max_degree)
            self$.addOption(private$..min_scale_factor)
            self$.addOption(private$..max_scale_factor)
            self$.addOption(private$..tuners)
            self$.addOption(private$..metrics)
            self$.addOption(private$..plot_tuner_results)
            self$.addOption(private$..rmse)
            self$.addOption(private$..mae)
            self$.addOption(private$..mpe)
            self$.addOption(private$..mape)
            self$.addOption(private$..smape)
            self$.addOption(private$..ccc)
            self$.addOption(private$..rpiq)
            self$.addOption(private$..rsq)
            self$.addOption(private$..plot_residuals_v_predictions)
            self$.addOption(private$..plot_residuals_dist)
            self$.addOption(private$..plot_observed_v_predictions)
            self$.addOption(private$..pfi)
            self$.addOption(private$..shap_mean)
            self$.addOption(private$..shap_dir)
            self$.addOption(private$..shap_box)
            self$.addOption(private$..shap_swarm)
            self$.addOption(private$..olden)
            self$.addOption(private$..sobol)
            self$.addOption(private$..residuals)
            self$.addOption(private$..predictions)
            self$.addOption(private$..dataset_id)
        }),
    active = list(
        disable = function() private$..disable$value,
        seed = function() private$..seed$value,
        dep = function() private$..dep$value,
        covs = function() private$..covs$value,
        factors = function() private$..factors$value,
        stdCovs = function() private$..stdCovs$value,
        encCat = function() private$..encCat$value,
        mode = function() private$..mode$value,
        hidden_neurons_tune = function() private$..hidden_neurons_tune$value,
        penalty_tune = function() private$..penalty_tune$value,
        fix_n_neurons = function() private$..fix_n_neurons$value,
        fix_penalty = function() private$..fix_penalty$value,
        min_n_neurons = function() private$..min_n_neurons$value,
        max_n_neurons = function() private$..max_n_neurons$value,
        min_penalty = function() private$..min_penalty$value,
        max_penalty = function() private$..max_penalty$value,
        mtry_tune = function() private$..mtry_tune$value,
        trees_tune = function() private$..trees_tune$value,
        min_n_tune = function() private$..min_n_tune$value,
        fix_mtry = function() private$..fix_mtry$value,
        fix_trees = function() private$..fix_trees$value,
        fix_min_n = function() private$..fix_min_n$value,
        min_mtry = function() private$..min_mtry$value,
        max_mtry = function() private$..max_mtry$value,
        min_trees = function() private$..min_trees$value,
        max_trees = function() private$..max_trees$value,
        min_min_n = function() private$..min_min_n$value,
        max_min_n = function() private$..max_min_n$value,
        mtryx_tune = function() private$..mtryx_tune$value,
        treesx_tune = function() private$..treesx_tune$value,
        min_nx_tune = function() private$..min_nx_tune$value,
        tree_depth_tune = function() private$..tree_depth_tune$value,
        learn_ratex_tune = function() private$..learn_ratex_tune$value,
        loss_reduction_tune = function() private$..loss_reduction_tune$value,
        fix_mtryx = function() private$..fix_mtryx$value,
        fix_treesx = function() private$..fix_treesx$value,
        fix_min_nx = function() private$..fix_min_nx$value,
        fix_tree_depth = function() private$..fix_tree_depth$value,
        fix_learn_ratex = function() private$..fix_learn_ratex$value,
        fix_loss_reduction = function() private$..fix_loss_reduction$value,
        min_mtryx = function() private$..min_mtryx$value,
        max_mtryx = function() private$..max_mtryx$value,
        min_treesx = function() private$..min_treesx$value,
        max_treesx = function() private$..max_treesx$value,
        min_min_nx = function() private$..min_min_nx$value,
        max_min_nx = function() private$..max_min_nx$value,
        min_tree_depth = function() private$..min_tree_depth$value,
        max_tree_depth = function() private$..max_tree_depth$value,
        min_learn_ratex = function() private$..min_learn_ratex$value,
        max_learn_ratex = function() private$..max_learn_ratex$value,
        min_loss_reduction = function() private$..min_loss_reduction$value,
        max_loss_reduction = function() private$..max_loss_reduction$value,
        kernels = function() private$..kernels$value,
        cost_tune = function() private$..cost_tune$value,
        margin_tune = function() private$..margin_tune$value,
        rbf_sigma_tune = function() private$..rbf_sigma_tune$value,
        degree_tune = function() private$..degree_tune$value,
        scale_factor_tune = function() private$..scale_factor_tune$value,
        fix_cost = function() private$..fix_cost$value,
        fix_margin = function() private$..fix_margin$value,
        fix_rbf_sigma = function() private$..fix_rbf_sigma$value,
        fix_degree = function() private$..fix_degree$value,
        fix_scale_factor = function() private$..fix_scale_factor$value,
        min_cost = function() private$..min_cost$value,
        max_cost = function() private$..max_cost$value,
        min_margin = function() private$..min_margin$value,
        max_margin = function() private$..max_margin$value,
        min_rbf_sigma = function() private$..min_rbf_sigma$value,
        max_rbf_sigma = function() private$..max_rbf_sigma$value,
        min_degree = function() private$..min_degree$value,
        max_degree = function() private$..max_degree$value,
        min_scale_factor = function() private$..min_scale_factor$value,
        max_scale_factor = function() private$..max_scale_factor$value,
        tuners = function() private$..tuners$value,
        metrics = function() private$..metrics$value,
        plot_tuner_results = function() private$..plot_tuner_results$value,
        rmse = function() private$..rmse$value,
        mae = function() private$..mae$value,
        mpe = function() private$..mpe$value,
        mape = function() private$..mape$value,
        smape = function() private$..smape$value,
        ccc = function() private$..ccc$value,
        rpiq = function() private$..rpiq$value,
        rsq = function() private$..rsq$value,
        plot_residuals_v_predictions = function() private$..plot_residuals_v_predictions$value,
        plot_residuals_dist = function() private$..plot_residuals_dist$value,
        plot_observed_v_predictions = function() private$..plot_observed_v_predictions$value,
        pfi = function() private$..pfi$value,
        shap_mean = function() private$..shap_mean$value,
        shap_dir = function() private$..shap_dir$value,
        shap_box = function() private$..shap_box$value,
        shap_swarm = function() private$..shap_swarm$value,
        olden = function() private$..olden$value,
        sobol = function() private$..sobol$value,
        residuals = function() private$..residuals$value,
        predictions = function() private$..predictions$value,
        dataset_id = function() private$..dataset_id$value),
    private = list(
        ..disable = NA,
        ..seed = NA,
        ..dep = NA,
        ..covs = NA,
        ..factors = NA,
        ..stdCovs = NA,
        ..encCat = NA,
        ..mode = NA,
        ..hidden_neurons_tune = NA,
        ..penalty_tune = NA,
        ..fix_n_neurons = NA,
        ..fix_penalty = NA,
        ..min_n_neurons = NA,
        ..max_n_neurons = NA,
        ..min_penalty = NA,
        ..max_penalty = NA,
        ..mtry_tune = NA,
        ..trees_tune = NA,
        ..min_n_tune = NA,
        ..fix_mtry = NA,
        ..fix_trees = NA,
        ..fix_min_n = NA,
        ..min_mtry = NA,
        ..max_mtry = NA,
        ..min_trees = NA,
        ..max_trees = NA,
        ..min_min_n = NA,
        ..max_min_n = NA,
        ..mtryx_tune = NA,
        ..treesx_tune = NA,
        ..min_nx_tune = NA,
        ..tree_depth_tune = NA,
        ..learn_ratex_tune = NA,
        ..loss_reduction_tune = NA,
        ..fix_mtryx = NA,
        ..fix_treesx = NA,
        ..fix_min_nx = NA,
        ..fix_tree_depth = NA,
        ..fix_learn_ratex = NA,
        ..fix_loss_reduction = NA,
        ..min_mtryx = NA,
        ..max_mtryx = NA,
        ..min_treesx = NA,
        ..max_treesx = NA,
        ..min_min_nx = NA,
        ..max_min_nx = NA,
        ..min_tree_depth = NA,
        ..max_tree_depth = NA,
        ..min_learn_ratex = NA,
        ..max_learn_ratex = NA,
        ..min_loss_reduction = NA,
        ..max_loss_reduction = NA,
        ..kernels = NA,
        ..cost_tune = NA,
        ..margin_tune = NA,
        ..rbf_sigma_tune = NA,
        ..degree_tune = NA,
        ..scale_factor_tune = NA,
        ..fix_cost = NA,
        ..fix_margin = NA,
        ..fix_rbf_sigma = NA,
        ..fix_degree = NA,
        ..fix_scale_factor = NA,
        ..min_cost = NA,
        ..max_cost = NA,
        ..min_margin = NA,
        ..max_margin = NA,
        ..min_rbf_sigma = NA,
        ..max_rbf_sigma = NA,
        ..min_degree = NA,
        ..max_degree = NA,
        ..min_scale_factor = NA,
        ..max_scale_factor = NA,
        ..tuners = NA,
        ..metrics = NA,
        ..plot_tuner_results = NA,
        ..rmse = NA,
        ..mae = NA,
        ..mpe = NA,
        ..mape = NA,
        ..smape = NA,
        ..ccc = NA,
        ..rpiq = NA,
        ..rsq = NA,
        ..plot_residuals_v_predictions = NA,
        ..plot_residuals_dist = NA,
        ..plot_observed_v_predictions = NA,
        ..pfi = NA,
        ..shap_mean = NA,
        ..shap_dir = NA,
        ..shap_box = NA,
        ..shap_swarm = NA,
        ..olden = NA,
        ..sobol = NA,
        ..residuals = NA,
        ..predictions = NA,
        ..dataset_id = NA)
)

RegressionResults <- if (requireNamespace("jmvcore", quietly=TRUE)) R6::R6Class(
    "RegressionResults",
    inherit = jmvcore::Group,
    active = list(
        text = function() private$.items[["text"]],
        summary = function() private$.items[["summary"]],
        tuner_table = function() private$.items[["tuner_table"]],
        plot_tuner = function() private$.items[["plot_tuner"]],
        model = function() private$..model,
        plots_results = function() private$.items[["plots_results"]],
        plots_sensitivity = function() private$.items[["plots_sensitivity"]],
        table_sensitivity = function() private$.items[["table_sensitivity"]],
        residuals = function() private$.items[["residuals"]],
        predictions = function() private$.items[["predictions"]],
        dataset_id = function() private$.items[["dataset_id"]]),
    private = list(
        ..model = NA),
    public=list(
        initialize=function(options) {
            super$initialize(
                options=options,
                name="",
                title="Regression",
                refs=list(
                    "EasyML",
                    "MLwrap"))
            self$add(jmvcore::Preformatted$new(
                options=options,
                name="text",
                title="Regression Analysis"))
            self$add(jmvcore::Table$new(
                options=options,
                name="summary",
                title="Summary Results",
                rows=2,
                columns=list(
                    list(
                        `name`="Dataset", 
                        `title`="Dataset", 
                        `type`="text")),
                clearWith=list(
                    "seed",
                    "dep",
                    "covs",
                    "factors",
                    "stdCovs",
                    "encCat",
                    "mode",
                    "metrics",
                    "tuners",
                    "hidden_neurons_tune",
                    "fix_n_neurons",
                    "min_n_neurons",
                    "max_n_neurons",
                    "penalty_tune",
                    "fix_penalty",
                    "min_penalty",
                    "max_penalty",
                    "mtry_tune",
                    "fix_mtry",
                    "min_mtry",
                    "max_mtry",
                    "trees_tune",
                    "fix_trees",
                    "min_trees",
                    "max_trees",
                    "min_n_tune",
                    "fix_min_n",
                    "min_min_n",
                    "max_min_n",
                    "mtryx_tune",
                    "fix_mtryx",
                    "min_mtryx",
                    "max_mtryx",
                    "treesx_tune",
                    "fix_treesx",
                    "min_treesx",
                    "max_treesx",
                    "min_nx_tune",
                    "fix_min_nx",
                    "min_min_nx",
                    "max_min_nx",
                    "tree_depth_tune",
                    "fix_tree_depth",
                    "min_tree_depth",
                    "max_tree_depth",
                    "learn_ratex_tune",
                    "fix_learn_ratex",
                    "min_learn_ratex",
                    "max_learn_ratex",
                    "loss_reduction_tune",
                    "fix_loss_reduction",
                    "min_loss_reduction",
                    "max_loss_reduction",
                    "kernels",
                    "cost_tune",
                    "fix_cost",
                    "min_cost",
                    "max_cost",
                    "margin_tune",
                    "fix_margin",
                    "min_margin",
                    "max_margin",
                    "rbf_sigma_tune",
                    "fix_rbf_sigma",
                    "min_rbf_sigma",
                    "max_rbf_sigma",
                    "degree_tune",
                    "fix_degree",
                    "min_degree",
                    "max_degree",
                    "scale_factor_tune",
                    "fix_scale_factor",
                    "min_scale_factor",
                    "max_scale_factor")))
            self$add(jmvcore::Array$new(
                options=options,
                name="tuner_table",
                title="Best Hyperparameters",
                template=jmvcore::Table$new(
                    options=options,
                    title="$key",
                    rows=1,
                    columns=list(
                        list(
                            `name`="estimate", 
                            `title`="Estimate", 
                            `type`="number"),
                        list(
                            `name`="std", 
                            `title`="Std Err", 
                            `type`="number")),
                    clearWith=list(
                        "seed",
                        "dep",
                        "covs",
                        "factors",
                        "stdCovs",
                        "encCat",
                        "mode",
                        "metrics",
                        "tuners",
                        "hidden_neurons_tune",
                        "fix_n_neurons",
                        "min_n_neurons",
                        "max_n_neurons",
                        "penalty_tune",
                        "fix_penalty",
                        "min_penalty",
                        "max_penalty",
                        "mtry_tune",
                        "fix_mtry",
                        "min_mtry",
                        "max_mtry",
                        "trees_tune",
                        "fix_trees",
                        "min_trees",
                        "max_trees",
                        "min_n_tune",
                        "fix_min_n",
                        "min_min_n",
                        "max_min_n",
                        "mtryx_tune",
                        "fix_mtryx",
                        "min_mtryx",
                        "max_mtryx",
                        "treesx_tune",
                        "fix_treesx",
                        "min_treesx",
                        "max_treesx",
                        "min_nx_tune",
                        "fix_min_nx",
                        "min_min_nx",
                        "max_min_nx",
                        "tree_depth_tune",
                        "fix_tree_depth",
                        "min_tree_depth",
                        "max_tree_depth",
                        "learn_ratex_tune",
                        "fix_learn_ratex",
                        "min_learn_ratex",
                        "max_learn_ratex",
                        "loss_reduction_tune",
                        "fix_loss_reduction",
                        "min_loss_reduction",
                        "max_loss_reduction",
                        "kernels",
                        "cost_tune",
                        "fix_cost",
                        "min_cost",
                        "max_cost",
                        "margin_tune",
                        "fix_margin",
                        "min_margin",
                        "max_margin",
                        "rbf_sigma_tune",
                        "fix_rbf_sigma",
                        "min_rbf_sigma",
                        "max_rbf_sigma",
                        "degree_tune",
                        "fix_degree",
                        "min_degree",
                        "max_degree",
                        "scale_factor_tune",
                        "fix_scale_factor",
                        "min_scale_factor",
                        "max_scale_factor"))))
            self$add(jmvcore::Array$new(
                options=options,
                name="plot_tuner",
                title="Tuning Results",
                template=jmvcore::Image$new(
                    options=options,
                    title="$key",
                    width=500,
                    height=400,
                    renderFun=".plot_tuner",
                    clearWith=list(
                        "seed",
                        "dep",
                        "covs",
                        "factors",
                        "stdCovs",
                        "encCat",
                        "mode",
                        "metrics",
                        "tuners",
                        "hidden_neurons_tune",
                        "fix_n_neurons",
                        "min_n_neurons",
                        "max_n_neurons",
                        "penalty_tune",
                        "fix_penalty",
                        "min_penalty",
                        "max_penalty",
                        "mtry_tune",
                        "fix_mtry",
                        "min_mtry",
                        "max_mtry",
                        "trees_tune",
                        "fix_trees",
                        "min_trees",
                        "max_trees",
                        "min_n_tune",
                        "fix_min_n",
                        "min_min_n",
                        "max_min_n",
                        "mtryx_tune",
                        "fix_mtryx",
                        "min_mtryx",
                        "max_mtryx",
                        "treesx_tune",
                        "fix_treesx",
                        "min_treesx",
                        "max_treesx",
                        "min_nx_tune",
                        "fix_min_nx",
                        "min_min_nx",
                        "max_min_nx",
                        "tree_depth_tune",
                        "fix_tree_depth",
                        "min_tree_depth",
                        "max_tree_depth",
                        "learn_ratex_tune",
                        "fix_learn_ratex",
                        "min_learn_ratex",
                        "max_learn_ratex",
                        "loss_reduction_tune",
                        "fix_loss_reduction",
                        "min_loss_reduction",
                        "max_loss_reduction",
                        "kernels",
                        "cost_tune",
                        "fix_cost",
                        "min_cost",
                        "max_cost",
                        "margin_tune",
                        "fix_margin",
                        "min_margin",
                        "max_margin",
                        "rbf_sigma_tune",
                        "fix_rbf_sigma",
                        "min_rbf_sigma",
                        "max_rbf_sigma",
                        "degree_tune",
                        "fix_degree",
                        "min_degree",
                        "max_degree",
                        "scale_factor_tune",
                        "fix_scale_factor",
                        "min_scale_factor",
                        "max_scale_factor"))))
            private$..model <- NULL
            self$add(jmvcore::Array$new(
                options=options,
                name="plots_results",
                title="Results Plots",
                template=jmvcore::Image$new(
                    options=options,
                    title="$key",
                    width=500,
                    height=400,
                    renderFun=".plot_results",
                    clearWith=list(
                        "seed",
                        "dep",
                        "covs",
                        "factors",
                        "stdCovs",
                        "encCat",
                        "mode",
                        "metrics",
                        "tuners",
                        "hidden_neurons_tune",
                        "fix_n_neurons",
                        "min_n_neurons",
                        "max_n_neurons",
                        "penalty_tune",
                        "fix_penalty",
                        "min_penalty",
                        "max_penalty",
                        "mtry_tune",
                        "fix_mtry",
                        "min_mtry",
                        "max_mtry",
                        "trees_tune",
                        "fix_trees",
                        "min_trees",
                        "max_trees",
                        "min_n_tune",
                        "fix_min_n",
                        "min_min_n",
                        "max_min_n",
                        "mtryx_tune",
                        "fix_mtryx",
                        "min_mtryx",
                        "max_mtryx",
                        "treesx_tune",
                        "fix_treesx",
                        "min_treesx",
                        "max_treesx",
                        "min_nx_tune",
                        "fix_min_nx",
                        "min_min_nx",
                        "max_min_nx",
                        "tree_depth_tune",
                        "fix_tree_depth",
                        "min_tree_depth",
                        "max_tree_depth",
                        "learn_ratex_tune",
                        "fix_learn_ratex",
                        "min_learn_ratex",
                        "max_learn_ratex",
                        "loss_reduction_tune",
                        "fix_loss_reduction",
                        "min_loss_reduction",
                        "max_loss_reduction",
                        "kernels",
                        "cost_tune",
                        "fix_cost",
                        "min_cost",
                        "max_cost",
                        "margin_tune",
                        "fix_margin",
                        "min_margin",
                        "max_margin",
                        "rbf_sigma_tune",
                        "fix_rbf_sigma",
                        "min_rbf_sigma",
                        "max_rbf_sigma",
                        "degree_tune",
                        "fix_degree",
                        "min_degree",
                        "max_degree",
                        "scale_factor_tune",
                        "fix_scale_factor",
                        "min_scale_factor",
                        "max_scale_factor"))))
            self$add(jmvcore::Array$new(
                options=options,
                name="plots_sensitivity",
                title="Sensitivity Analysis Plots",
                template=jmvcore::Image$new(
                    options=options,
                    title="$key",
                    width=500,
                    height=400,
                    renderFun=".plot_sensitivity",
                    clearWith=list(
                        "seed",
                        "dep",
                        "covs",
                        "factors",
                        "stdCovs",
                        "encCat",
                        "mode",
                        "metrics",
                        "tuners",
                        "hidden_neurons_tune",
                        "fix_n_neurons",
                        "min_n_neurons",
                        "max_n_neurons",
                        "penalty_tune",
                        "fix_penalty",
                        "min_penalty",
                        "max_penalty",
                        "mtry_tune",
                        "fix_mtry",
                        "min_mtry",
                        "max_mtry",
                        "trees_tune",
                        "fix_trees",
                        "min_trees",
                        "max_trees",
                        "min_n_tune",
                        "fix_min_n",
                        "min_min_n",
                        "max_min_n",
                        "mtryx_tune",
                        "fix_mtryx",
                        "min_mtryx",
                        "max_mtryx",
                        "treesx_tune",
                        "fix_treesx",
                        "min_treesx",
                        "max_treesx",
                        "min_nx_tune",
                        "fix_min_nx",
                        "min_min_nx",
                        "max_min_nx",
                        "tree_depth_tune",
                        "fix_tree_depth",
                        "min_tree_depth",
                        "max_tree_depth",
                        "learn_ratex_tune",
                        "fix_learn_ratex",
                        "min_learn_ratex",
                        "max_learn_ratex",
                        "loss_reduction_tune",
                        "fix_loss_reduction",
                        "min_loss_reduction",
                        "max_loss_reduction",
                        "kernels",
                        "cost_tune",
                        "fix_cost",
                        "min_cost",
                        "max_cost",
                        "margin_tune",
                        "fix_margin",
                        "min_margin",
                        "max_margin",
                        "rbf_sigma_tune",
                        "fix_rbf_sigma",
                        "min_rbf_sigma",
                        "max_rbf_sigma",
                        "degree_tune",
                        "fix_degree",
                        "min_degree",
                        "max_degree",
                        "scale_factor_tune",
                        "fix_scale_factor",
                        "min_scale_factor",
                        "max_scale_factor"))))
            self$add(jmvcore::Array$new(
                options=options,
                name="table_sensitivity",
                title="Sensitivity Analysis Tables",
                template=jmvcore::Table$new(
                    options=options,
                    title="$key",
                    columns=list(
                        list(
                            `name`="var", 
                            `title`="Feature", 
                            `type`="text")),
                    clearWith=list(
                        "seed",
                        "dep",
                        "covs",
                        "factors",
                        "stdCovs",
                        "encCat",
                        "mode",
                        "metrics",
                        "tuners",
                        "hidden_neurons_tune",
                        "fix_n_neurons",
                        "min_n_neurons",
                        "max_n_neurons",
                        "penalty_tune",
                        "fix_penalty",
                        "min_penalty",
                        "max_penalty",
                        "mtry_tune",
                        "fix_mtry",
                        "min_mtry",
                        "max_mtry",
                        "trees_tune",
                        "fix_trees",
                        "min_trees",
                        "max_trees",
                        "min_n_tune",
                        "fix_min_n",
                        "min_min_n",
                        "max_min_n",
                        "mtryx_tune",
                        "fix_mtryx",
                        "min_mtryx",
                        "max_mtryx",
                        "treesx_tune",
                        "fix_treesx",
                        "min_treesx",
                        "max_treesx",
                        "min_nx_tune",
                        "fix_min_nx",
                        "min_min_nx",
                        "max_min_nx",
                        "tree_depth_tune",
                        "fix_tree_depth",
                        "min_tree_depth",
                        "max_tree_depth",
                        "learn_ratex_tune",
                        "fix_learn_ratex",
                        "min_learn_ratex",
                        "max_learn_ratex",
                        "loss_reduction_tune",
                        "fix_loss_reduction",
                        "min_loss_reduction",
                        "max_loss_reduction",
                        "kernels",
                        "cost_tune",
                        "fix_cost",
                        "min_cost",
                        "max_cost",
                        "margin_tune",
                        "fix_margin",
                        "min_margin",
                        "max_margin",
                        "rbf_sigma_tune",
                        "fix_rbf_sigma",
                        "min_rbf_sigma",
                        "max_rbf_sigma",
                        "degree_tune",
                        "fix_degree",
                        "min_degree",
                        "max_degree",
                        "scale_factor_tune",
                        "fix_scale_factor",
                        "min_scale_factor",
                        "max_scale_factor"))))
            self$add(jmvcore::Output$new(
                options=options,
                name="residuals",
                title="Residuals",
                varTitle="Residuals",
                varDescription="Residuals from regression model",
                measureType="continuous",
                clearWith=list(
                    "seed",
                    "dep",
                    "covs",
                    "factors",
                    "stdCovs",
                    "encCat",
                    "mode",
                    "metrics",
                    "tuners",
                    "hidden_neurons_tune",
                    "fix_n_neurons",
                    "min_n_neurons",
                    "max_n_neurons",
                    "penalty_tune",
                    "fix_penalty",
                    "min_penalty",
                    "max_penalty",
                    "mtry_tune",
                    "fix_mtry",
                    "min_mtry",
                    "max_mtry",
                    "trees_tune",
                    "fix_trees",
                    "min_trees",
                    "max_trees",
                    "min_n_tune",
                    "fix_min_n",
                    "min_min_n",
                    "max_min_n",
                    "mtryx_tune",
                    "fix_mtryx",
                    "min_mtryx",
                    "max_mtryx",
                    "treesx_tune",
                    "fix_treesx",
                    "min_treesx",
                    "max_treesx",
                    "min_nx_tune",
                    "fix_min_nx",
                    "min_min_nx",
                    "max_min_nx",
                    "tree_depth_tune",
                    "fix_tree_depth",
                    "min_tree_depth",
                    "max_tree_depth",
                    "learn_ratex_tune",
                    "fix_learn_ratex",
                    "min_learn_ratex",
                    "max_learn_ratex",
                    "loss_reduction_tune",
                    "fix_loss_reduction",
                    "min_loss_reduction",
                    "max_loss_reduction",
                    "kernels",
                    "cost_tune",
                    "fix_cost",
                    "min_cost",
                    "max_cost",
                    "margin_tune",
                    "fix_margin",
                    "min_margin",
                    "max_margin",
                    "rbf_sigma_tune",
                    "fix_rbf_sigma",
                    "min_rbf_sigma",
                    "max_rbf_sigma",
                    "degree_tune",
                    "fix_degree",
                    "min_degree",
                    "max_degree",
                    "scale_factor_tune",
                    "fix_scale_factor",
                    "min_scale_factor",
                    "max_scale_factor")))
            self$add(jmvcore::Output$new(
                options=options,
                name="predictions",
                title="Predictions",
                varTitle="Predictions",
                varDescription="Predictions from regression model",
                measureType="continuous",
                clearWith=list(
                    "seed",
                    "dep",
                    "covs",
                    "factors",
                    "stdCovs",
                    "encCat",
                    "mode",
                    "metrics",
                    "tuners",
                    "hidden_neurons_tune",
                    "fix_n_neurons",
                    "min_n_neurons",
                    "max_n_neurons",
                    "penalty_tune",
                    "fix_penalty",
                    "min_penalty",
                    "max_penalty",
                    "mtry_tune",
                    "fix_mtry",
                    "min_mtry",
                    "max_mtry",
                    "trees_tune",
                    "fix_trees",
                    "min_trees",
                    "max_trees",
                    "min_n_tune",
                    "fix_min_n",
                    "min_min_n",
                    "max_min_n",
                    "mtryx_tune",
                    "fix_mtryx",
                    "min_mtryx",
                    "max_mtryx",
                    "treesx_tune",
                    "fix_treesx",
                    "min_treesx",
                    "max_treesx",
                    "min_nx_tune",
                    "fix_min_nx",
                    "min_min_nx",
                    "max_min_nx",
                    "tree_depth_tune",
                    "fix_tree_depth",
                    "min_tree_depth",
                    "max_tree_depth",
                    "learn_ratex_tune",
                    "fix_learn_ratex",
                    "min_learn_ratex",
                    "max_learn_ratex",
                    "loss_reduction_tune",
                    "fix_loss_reduction",
                    "min_loss_reduction",
                    "max_loss_reduction",
                    "kernels",
                    "cost_tune",
                    "fix_cost",
                    "min_cost",
                    "max_cost",
                    "margin_tune",
                    "fix_margin",
                    "min_margin",
                    "max_margin",
                    "rbf_sigma_tune",
                    "fix_rbf_sigma",
                    "min_rbf_sigma",
                    "max_rbf_sigma",
                    "degree_tune",
                    "fix_degree",
                    "min_degree",
                    "max_degree",
                    "scale_factor_tune",
                    "fix_scale_factor",
                    "min_scale_factor",
                    "max_scale_factor")))
            self$add(jmvcore::Output$new(
                options=options,
                name="dataset_id",
                title="Train/Test Label",
                varTitle="Train/Test Label",
                varDescription="Train/Test Label from regression model",
                measureType="nominal",
                clearWith=list(
                    "seed",
                    "dep",
                    "covs",
                    "factors",
                    "stdCovs",
                    "encCat",
                    "mode",
                    "metrics",
                    "tuners",
                    "hidden_neurons_tune",
                    "fix_n_neurons",
                    "min_n_neurons",
                    "max_n_neurons",
                    "penalty_tune",
                    "fix_penalty",
                    "min_penalty",
                    "max_penalty",
                    "mtry_tune",
                    "fix_mtry",
                    "min_mtry",
                    "max_mtry",
                    "trees_tune",
                    "fix_trees",
                    "min_trees",
                    "max_trees",
                    "min_n_tune",
                    "fix_min_n",
                    "min_min_n",
                    "max_min_n",
                    "mtryx_tune",
                    "fix_mtryx",
                    "min_mtryx",
                    "max_mtryx",
                    "treesx_tune",
                    "fix_treesx",
                    "min_treesx",
                    "max_treesx",
                    "min_nx_tune",
                    "fix_min_nx",
                    "min_min_nx",
                    "max_min_nx",
                    "tree_depth_tune",
                    "fix_tree_depth",
                    "min_tree_depth",
                    "max_tree_depth",
                    "learn_ratex_tune",
                    "fix_learn_ratex",
                    "min_learn_ratex",
                    "max_learn_ratex",
                    "loss_reduction_tune",
                    "fix_loss_reduction",
                    "min_loss_reduction",
                    "max_loss_reduction",
                    "kernels",
                    "cost_tune",
                    "fix_cost",
                    "min_cost",
                    "max_cost",
                    "margin_tune",
                    "fix_margin",
                    "min_margin",
                    "max_margin",
                    "rbf_sigma_tune",
                    "fix_rbf_sigma",
                    "min_rbf_sigma",
                    "max_rbf_sigma",
                    "degree_tune",
                    "fix_degree",
                    "min_degree",
                    "max_degree",
                    "scale_factor_tune",
                    "fix_scale_factor",
                    "min_scale_factor",
                    "max_scale_factor")))},
        .setModel=function(x) private$..model <- x))

RegressionBase <- if (requireNamespace("jmvcore", quietly=TRUE)) R6::R6Class(
    "RegressionBase",
    inherit = jmvcore::Analysis,
    public = list(
        initialize = function(options, data=NULL, datasetId="", analysisId="", revision=0) {
            super$initialize(
                package = "EasyML",
                name = "Regression",
                version = c(1,0,0),
                options = options,
                results = RegressionResults$new(options=options),
                data = data,
                datasetId = datasetId,
                analysisId = analysisId,
                revision = revision,
                pause = NULL,
                completeWhenFilled = FALSE,
                requiresMissings = FALSE,
                weightsSupport = 'none')
        }))

#' Regression
#'
#' Linear regression is used to explore the relationship between a continuous 
#' dependent variable, and one or more continuous and/or categorical 
#' explanatory variables. Other statistical methods, such as ANOVA and ANCOVA, 
#' are in reality just forms of linear regression.
#' 
#' @param disable .
#' @param seed .
#' @param data the data as a data frame
#' @param dep the dependent variable from \code{data}, variable must be
#'   numeric
#' @param covs the covariates from \code{data}
#' @param factors the fixed factors from \code{data}
#' @param stdCovs .
#' @param encCat .
#' @param mode .
#' @param hidden_neurons_tune .
#' @param penalty_tune .
#' @param fix_n_neurons .
#' @param fix_penalty .
#' @param min_n_neurons a number between 50 and 99.9 (default: 95) specifying
#'   the confidence interval width
#' @param max_n_neurons a number between 50 and 99.9 (default: 95) specifying
#'   the confidence interval width
#' @param min_penalty log10()
#' @param max_penalty log10()
#' @param mtry_tune .
#' @param trees_tune .
#' @param min_n_tune .
#' @param fix_mtry .
#' @param fix_trees .
#' @param fix_min_n .
#' @param min_mtry a number between 50 and 99.9 (default: 95) specifying the
#'   confidence interval width
#' @param max_mtry a number between 50 and 99.9 (default: 95) specifying the
#'   confidence interval width
#' @param min_trees a number between 50 and 99.9 (default: 95) specifying the
#'   confidence interval width
#' @param max_trees a number between 50 and 99.9 (default: 95) specifying the
#'   confidence interval width
#' @param min_min_n a number between 50 and 99.9 (default: 95) specifying the
#'   confidence interval width
#' @param max_min_n a number between 50 and 99.9 (default: 95) specifying the
#'   confidence interval width
#' @param mtryx_tune .
#' @param treesx_tune .
#' @param min_nx_tune .
#' @param tree_depth_tune .
#' @param learn_ratex_tune .
#' @param loss_reduction_tune .
#' @param fix_mtryx .
#' @param fix_treesx .
#' @param fix_min_nx .
#' @param fix_tree_depth .
#' @param fix_learn_ratex .
#' @param fix_loss_reduction .
#' @param min_mtryx a number between 50 and 99.9 (default: 95) specifying the
#'   confidence interval width
#' @param max_mtryx a number between 50 and 99.9 (default: 95) specifying the
#'   confidence interval width
#' @param min_treesx a number between 50 and 99.9 (default: 95) specifying the
#'   confidence interval width
#' @param max_treesx a number between 50 and 99.9 (default: 95) specifying the
#'   confidence interval width
#' @param min_min_nx a number between 50 and 99.9 (default: 95) specifying the
#'   confidence interval width
#' @param max_min_nx a number between 50 and 99.9 (default: 95) specifying the
#'   confidence interval width
#' @param min_tree_depth a number between 50 and 99.9 (default: 95) specifying
#'   the confidence interval width
#' @param max_tree_depth a number between 50 and 99.9 (default: 95) specifying
#'   the confidence interval width
#' @param min_learn_ratex log10()
#' @param max_learn_ratex log10()
#' @param min_loss_reduction log10()
#' @param max_loss_reduction log10()
#' @param kernels .
#' @param cost_tune .
#' @param margin_tune .
#' @param rbf_sigma_tune .
#' @param degree_tune .
#' @param scale_factor_tune .
#' @param fix_cost .
#' @param fix_margin .
#' @param fix_rbf_sigma .
#' @param fix_degree .
#' @param fix_scale_factor .
#' @param min_cost log2()
#' @param max_cost log2()
#' @param min_margin a number between 50 and 99.9 (default: 95) specifying the
#'   confidence interval width
#' @param max_margin a number between 50 and 99.9 (default: 95) specifying the
#'   confidence interval width
#' @param min_rbf_sigma log10()
#' @param max_rbf_sigma log10()
#' @param min_degree a number between 50 and 99.9 (default: 95) specifying the
#'   confidence interval width
#' @param max_degree a number between 50 and 99.9 (default: 95) specifying the
#'   confidence interval width
#' @param min_scale_factor log10()
#' @param max_scale_factor log10()
#' @param tuners .
#' @param metrics .
#' @param plot_tuner_results .
#' @param rmse .
#' @param mae .
#' @param mpe .
#' @param mape .
#' @param smape .
#' @param ccc .
#' @param rpiq .
#' @param rsq .
#' @param plot_residuals_v_predictions .
#' @param plot_residuals_dist .
#' @param plot_observed_v_predictions .
#' @param pfi .
#' @param shap_mean .
#' @param shap_dir .
#' @param shap_box .
#' @param shap_swarm .
#' @param olden .
#' @param sobol .
#' @return A results object containing:
#' \tabular{llllll}{
#'   \code{results$text} \tab \tab \tab \tab \tab a preformatted \cr
#'   \code{results$summary} \tab \tab \tab \tab \tab a table \cr
#'   \code{results$tuner_table} \tab \tab \tab \tab \tab tuners table results \cr
#'   \code{results$plot_tuner} \tab \tab \tab \tab \tab tuners plots \cr
#'   \code{results$model} \tab \tab \tab \tab \tab The underlying \code{aov} object \cr
#'   \code{results$plots_results} \tab \tab \tab \tab \tab an array of plots \cr
#'   \code{results$plots_sensitivity} \tab \tab \tab \tab \tab an array of plots \cr
#'   \code{results$table_sensitivity} \tab \tab \tab \tab \tab an array of plots \cr
#'   \code{results$residuals} \tab \tab \tab \tab \tab an output \cr
#'   \code{results$predictions} \tab \tab \tab \tab \tab an output \cr
#'   \code{results$dataset_id} \tab \tab \tab \tab \tab an output \cr
#' }
#'
#' Tables can be converted to data frames with \code{asDF} or \code{\link{as.data.frame}}. For example:
#'
#' \code{results$summary$asDF}
#'
#' \code{as.data.frame(results$summary)}
#'
#' @export
Regression <- function(
    disable = FALSE,
    seed = 42,
    data,
    dep,
    covs = NULL,
    factors = NULL,
    stdCovs = NULL,
    encCat = NULL,
    mode = "neural_network",
    hidden_neurons_tune = "range_neurons",
    penalty_tune = "range_penalty",
    fix_n_neurons,
    fix_penalty,
    min_n_neurons = 5,
    max_n_neurons = 20,
    min_penalty = -3,
    max_penalty = 3,
    mtry_tune = "range_mtry",
    trees_tune = "range_trees",
    min_n_tune = "range_min_n",
    fix_mtry,
    fix_trees,
    fix_min_n,
    min_mtry = 3,
    max_mtry = 5,
    min_trees = 50,
    max_trees = 150,
    min_min_n = 5,
    max_min_n = 25,
    mtryx_tune = "range_mtryx",
    treesx_tune = "range_treesx",
    min_nx_tune = "range_min_nx",
    tree_depth_tune = "range_tree_depth",
    learn_ratex_tune = "range_learn_ratex",
    loss_reduction_tune = "range_loss_reduction",
    fix_mtryx,
    fix_treesx,
    fix_min_nx,
    fix_tree_depth,
    fix_learn_ratex,
    fix_loss_reduction,
    min_mtryx = 3,
    max_mtryx = 5,
    min_treesx = 50,
    max_treesx = 150,
    min_min_nx = 5,
    max_min_nx = 25,
    min_tree_depth = 5,
    max_tree_depth = 25,
    min_learn_ratex = -3,
    max_learn_ratex = -1,
    min_loss_reduction = -3,
    max_loss_reduction = -1,
    kernels,
    cost_tune = "range_cost",
    margin_tune = "range_margin",
    rbf_sigma_tune = "range_rbf_sigma",
    degree_tune = "range_degree",
    scale_factor_tune = "range_scale_factor",
    fix_cost,
    fix_margin,
    fix_rbf_sigma,
    fix_degree,
    fix_scale_factor,
    min_cost = -5,
    max_cost = 3,
    min_margin = 0.05,
    max_margin = 0.2,
    min_rbf_sigma = -3,
    max_rbf_sigma = -1,
    min_degree = 2,
    max_degree = 3,
    min_scale_factor = -3,
    max_scale_factor = -1,
    tuners = "none",
    metrics = "rmse",
    plot_tuner_results = FALSE,
    rmse = FALSE,
    mae = FALSE,
    mpe = FALSE,
    mape = FALSE,
    smape = FALSE,
    ccc = FALSE,
    rpiq = FALSE,
    rsq = FALSE,
    plot_residuals_v_predictions = FALSE,
    plot_residuals_dist = FALSE,
    plot_observed_v_predictions = FALSE,
    pfi = FALSE,
    shap_mean = FALSE,
    shap_dir = FALSE,
    shap_box = FALSE,
    shap_swarm = FALSE,
    olden = FALSE,
    sobol = FALSE) {

    if ( ! requireNamespace("jmvcore", quietly=TRUE))
        stop("Regression requires jmvcore to be installed (restart may be required)")

    if ( ! missing(dep)) dep <- jmvcore::resolveQuo(jmvcore::enquo(dep))
    if ( ! missing(covs)) covs <- jmvcore::resolveQuo(jmvcore::enquo(covs))
    if ( ! missing(factors)) factors <- jmvcore::resolveQuo(jmvcore::enquo(factors))
    if ( ! missing(stdCovs)) stdCovs <- jmvcore::resolveQuo(jmvcore::enquo(stdCovs))
    if ( ! missing(encCat)) encCat <- jmvcore::resolveQuo(jmvcore::enquo(encCat))
    if (missing(data))
        data <- jmvcore::marshalData(
            parent.frame(),
            `if`( ! missing(dep), dep, NULL),
            `if`( ! missing(covs), covs, NULL),
            `if`( ! missing(factors), factors, NULL),
            `if`( ! missing(stdCovs), stdCovs, NULL),
            `if`( ! missing(encCat), encCat, NULL))

    for (v in factors) if (v %in% names(data)) data[[v]] <- as.factor(data[[v]])

    options <- RegressionOptions$new(
        disable = disable,
        seed = seed,
        dep = dep,
        covs = covs,
        factors = factors,
        stdCovs = stdCovs,
        encCat = encCat,
        mode = mode,
        hidden_neurons_tune = hidden_neurons_tune,
        penalty_tune = penalty_tune,
        fix_n_neurons = fix_n_neurons,
        fix_penalty = fix_penalty,
        min_n_neurons = min_n_neurons,
        max_n_neurons = max_n_neurons,
        min_penalty = min_penalty,
        max_penalty = max_penalty,
        mtry_tune = mtry_tune,
        trees_tune = trees_tune,
        min_n_tune = min_n_tune,
        fix_mtry = fix_mtry,
        fix_trees = fix_trees,
        fix_min_n = fix_min_n,
        min_mtry = min_mtry,
        max_mtry = max_mtry,
        min_trees = min_trees,
        max_trees = max_trees,
        min_min_n = min_min_n,
        max_min_n = max_min_n,
        mtryx_tune = mtryx_tune,
        treesx_tune = treesx_tune,
        min_nx_tune = min_nx_tune,
        tree_depth_tune = tree_depth_tune,
        learn_ratex_tune = learn_ratex_tune,
        loss_reduction_tune = loss_reduction_tune,
        fix_mtryx = fix_mtryx,
        fix_treesx = fix_treesx,
        fix_min_nx = fix_min_nx,
        fix_tree_depth = fix_tree_depth,
        fix_learn_ratex = fix_learn_ratex,
        fix_loss_reduction = fix_loss_reduction,
        min_mtryx = min_mtryx,
        max_mtryx = max_mtryx,
        min_treesx = min_treesx,
        max_treesx = max_treesx,
        min_min_nx = min_min_nx,
        max_min_nx = max_min_nx,
        min_tree_depth = min_tree_depth,
        max_tree_depth = max_tree_depth,
        min_learn_ratex = min_learn_ratex,
        max_learn_ratex = max_learn_ratex,
        min_loss_reduction = min_loss_reduction,
        max_loss_reduction = max_loss_reduction,
        kernels = kernels,
        cost_tune = cost_tune,
        margin_tune = margin_tune,
        rbf_sigma_tune = rbf_sigma_tune,
        degree_tune = degree_tune,
        scale_factor_tune = scale_factor_tune,
        fix_cost = fix_cost,
        fix_margin = fix_margin,
        fix_rbf_sigma = fix_rbf_sigma,
        fix_degree = fix_degree,
        fix_scale_factor = fix_scale_factor,
        min_cost = min_cost,
        max_cost = max_cost,
        min_margin = min_margin,
        max_margin = max_margin,
        min_rbf_sigma = min_rbf_sigma,
        max_rbf_sigma = max_rbf_sigma,
        min_degree = min_degree,
        max_degree = max_degree,
        min_scale_factor = min_scale_factor,
        max_scale_factor = max_scale_factor,
        tuners = tuners,
        metrics = metrics,
        plot_tuner_results = plot_tuner_results,
        rmse = rmse,
        mae = mae,
        mpe = mpe,
        mape = mape,
        smape = smape,
        ccc = ccc,
        rpiq = rpiq,
        rsq = rsq,
        plot_residuals_v_predictions = plot_residuals_v_predictions,
        plot_residuals_dist = plot_residuals_dist,
        plot_observed_v_predictions = plot_observed_v_predictions,
        pfi = pfi,
        shap_mean = shap_mean,
        shap_dir = shap_dir,
        shap_box = shap_box,
        shap_swarm = shap_swarm,
        olden = olden,
        sobol = sobol)

    analysis <- RegressionClass$new(
        options = options,
        data = data)

    analysis$run()

    analysis$results
}

